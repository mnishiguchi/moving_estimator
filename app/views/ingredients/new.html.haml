- provide(:title, "New ingredient")

.row
  .col-md-offset-3.col-md-6.col-sm-offset-2.col-sm-8

    %h1.page-header New ingredient

    = form_for(@ingredient) do |f|

      = render 'shared/error_messages', object: f.object

      .form-group
        = f.label :name
        = f.text_field :name, class: 'form-control'

      .form-group
        = f.label :volume
        = f.number_field :volume, in: 0..200, step: 0.5, id: "slider_value", value: 3, class: "form-control"
        = f.range_field :volume,  in: 0..200, step: 0.5, id: "slider", value: 3

      .form-group{ style: "width: 100%" }
        = f.button "Create ingredient", class: "submit btn btn-success btn-block",
          data: { disable_with: "<i class='fa fa-spinner fa-spin'></i> Processing..." }

:coffee

  setSliderVal = ->
    sliderVal = document.getElementById('slider').value
    $("#slider_value").val(sliderVal)

  jQuery ->
    setSliderVal()
    document.getElementById('slider').addEventListener 'change', ->
      setSliderVal()
